{
  "loader": {
    # For defaults refer to https://github.com/permutive/fs2-google-pubsub/blob/master/fs2-google-pubsub-grpc/src/main/scala/com/permutive/pubsub/consumer/grpc/PubsubGoogleConsumerConfig.scala
    "consumerSettings": {
      "maxQueueSize": 1000
      "parallelPullCount": 3
      "maxAckExtensionPeriod": "10 seconds"
      "awaitTerminatePeriod": "30 seconds"
    }

    "sinkSettings": {
      "good": {
        # For recommended number of records in each request, see https://cloud.google.com/bigquery/quotas#streaming_inserts
        "bqWriteRequestThreshold": 500
        "bqWriteRequestTimeout": "1 second"
        # For the HTTP request size limit, see https://cloud.google.com/bigquery/quotas#streaminginserts
        "bqWriteRequestSizeLimit": 10000000
        "bqWriteRequestOverflowQueueMaxSize": 500
        "sinkConcurrency": 1024
      }

      "bad": {
        "producerBatchSize": 8
        "producerDelayThreshold": "2 seconds"
        "sinkConcurrency": 64
      }

      "types": {
        "batchThreshold": 10
        "batchTimeout": "30 seconds"
        "producerBatchSize": 4
        "producerDelayThreshold": "200 ms"
        "sinkConcurrency": 64
      }

      "failedInserts": {
        "producerBatchSize": 8
        "producerDelayThreshold": "2 seconds"
      }
    }
  }
}
